<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>International Trade Document Flow - KTDDE Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .scenario-info {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 20px;
            margin: 20px;
            border-radius: 8px;
        }
        
        .scenario-info h2 {
            color: #1e3a8a;
            margin-bottom: 15px;
        }
        
        .scenario-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .detail-item {
            display: flex;
            align-items: start;
            gap: 10px;
        }
        
        .detail-label {
            font-weight: 600;
            color: #1e3a8a;
            min-width: 100px;
        }
        
        .detail-value {
            color: #374151;
        }
        
        .tabs {
            display: flex;
            background: #f3f4f6;
            border-bottom: 2px solid #e5e7eb;
            overflow-x: auto;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            font-weight: 500;
            color: #6b7280;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        
        .tab:hover {
            background: #e5e7eb;
            color: #1f2937;
        }
        
        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
            background: white;
        }
        
        .content {
            padding: 30px;
        }
        
        .actor-view {
            display: none;
        }
        
        .actor-view.active {
            display: block;
        }
        
        .actor-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .actor-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }
        
        .actor-info h2 {
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .actor-info .role {
            color: #6b7280;
            font-size: 0.95em;
        }
        
        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .document-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .document-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
            transform: translateY(-2px);
        }
        
        .document-status {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .status-created { background: #d1fae5; color: #065f46; }
        .status-received { background: #dbeafe; color: #1e3a8a; }
        .status-pending { background: #fef3c7; color: #92400e; }
        
        .document-card h3 {
            color: #1f2937;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .document-meta {
            color: #6b7280;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        
        .document-preview {
            background: #f9fafb;
            border-radius: 6px;
            padding: 12px;
            font-size: 0.85em;
            color: #374151;
            max-height: 100px;
            overflow: hidden;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .modal-header {
            padding: 25px 30px;
            background: #f9fafb;
            border-bottom: 2px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            color: #1f2937;
        }
        
        .close-button {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #6b7280;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .close-button:hover {
            background: #e5e7eb;
            color: #1f2937;
        }
        
        .modal-body {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
        }
        
        .json-viewer {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            line-height: 1.6;
        }
        
        .json-key { color: #60a5fa; }
        .json-string { color: #34d399; }
        .json-number { color: #fbbf24; }
        .json-boolean { color: #f87171; }
        
        .timeline {
            margin: 30px 0;
            padding: 0 20px;
        }
        
        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 20px;
            top: 45px;
            width: 2px;
            height: calc(100% + 10px);
            background: #e5e7eb;
        }
        
        .timeline-marker {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #3b82f6;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
            z-index: 1;
        }
        
        .timeline-content {
            flex: 1;
            padding-top: 5px;
        }
        
        .timeline-date {
            color: #6b7280;
            font-size: 0.85em;
            margin-bottom: 5px;
        }
        
        .timeline-title {
            color: #1f2937;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .timeline-desc {
            color: #6b7280;
            font-size: 0.9em;
        }
        
        .sap-button, .transform-button {
            display: inline-block;
            margin: 8px 5px 0 0;
            padding: 8px 15px;
            border: 2px solid #3b82f6;
            background: white;
            color: #3b82f6;
            border-radius: 6px;
            font-size: 0.85em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .sap-button:hover, .transform-button:hover {
            background: #3b82f6;
            color: white;
            transform: translateY(-1px);
        }
        
        .transform-button {
            border-color: #10b981;
            color: #10b981;
        }
        
        .transform-button:hover {
            background: #10b981;
            color: white;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .documents-grid {
                grid-template-columns: 1fr;
            }
            
            .scenario-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåç International Trade Document Flow</h1>
            <div class="subtitle">KTDDE Standardized Trade Documents Demo</div>
        </div>
        
        <div class="scenario-info">
            <h2>üì¶ Current Scenario: Finnish Gluelam Timber Export to Japan</h2>
            <div class="scenario-details">
                <div class="detail-item">
                    <span class="detail-label">Exporter:</span>
                    <span class="detail-value">Nordic Timber Oy, Kuhmo, Finland üá´üáÆ</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Importer:</span>
                    <span class="detail-value">Tokyo Construction Materials Ltd, Japan üáØüáµ</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Product:</span>
                    <span class="detail-value">Engineered Gluelam Timber Beams</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Value:</span>
                    <span class="detail-value">EUR 339,000</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Incoterms:</span>
                    <span class="detail-value">CFR Tokyo Port</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Payment:</span>
                    <span class="detail-value">Confirmed L/C (60 days)</span>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showActor('timeline')">‚è±Ô∏è Timeline</button>
            <button class="tab" onclick="showActor('buyer')">üè¢ Buyer (Japan)</button>
            <button class="tab" onclick="showActor('seller')">üè≠ Seller (Finland)</button>
            <button class="tab" onclick="showActor('bank')">üè¶ Bank</button>
            <button class="tab" onclick="showActor('carrier')">üö¢ Carrier</button>
            <button class="tab" onclick="showActor('customs')">üõÉ Customs</button>
            <button class="tab" onclick="showActor('chamber')">üìú Chamber of Commerce</button>
        </div>
        
        <div class="content">
            <!-- Timeline View -->
            <div id="timeline" class="actor-view active">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker">1</div>
                        <div class="timeline-content">
                            <div class="timeline-date">T-60 days</div>
                            <div class="timeline-title">Purchase Order Created</div>
                            <div class="timeline-desc">Tokyo Construction Materials issues PO for 160 gluelam beams</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker">2</div>
                        <div class="timeline-content">
                            <div class="timeline-date">T-50 days</div>
                            <div class="timeline-title">Sales Order Confirmed</div>
                            <div class="timeline-desc">Nordic Timber confirms order and begins production scheduling</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker">3</div>
                        <div class="timeline-content">
                            <div class="timeline-date">T-30 days</div>
                            <div class="timeline-title">Letter of Credit Opened</div>
                            <div class="timeline-desc">MUFG Bank Tokyo opens confirmed L/C advised by Nordea Finland</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker">4</div>
                        <div class="timeline-content">
                            <div class="timeline-date">T-5 days</div>
                            <div class="timeline-title">Goods Shipped</div>
                            <div class="timeline-desc">Delivery to Rauma Port, loaded on FESCO vessel</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker">5</div>
                        <div class="timeline-content">
                            <div class="timeline-date">T-3 days</div>
                            <div class="timeline-title">Invoice & Documents Issued</div>
                            <div class="timeline-desc">Commercial invoice, B/L, and certificates prepared</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker">6</div>
                        <div class="timeline-content">
                            <div class="timeline-date">Today</div>
                            <div class="timeline-title">Goods in Transit</div>
                            <div class="timeline-desc">Vessel en route to Tokyo (ETA: 45 days from shipment)</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Buyer View -->
            <div id="buyer" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #dbeafe;">üè¢</div>
                    <div class="actor-info">
                        <h2>Tokyo Construction Materials Ltd</h2>
                        <div class="role">Buyer / Importer</div>
                    </div>
                </div>
                <div class="documents-grid" id="buyer-docs"></div>
            </div>
            
            <!-- Seller View -->
            <div id="seller" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #d1fae5;">üè≠</div>
                    <div class="actor-info">
                        <h2>Nordic Timber Oy</h2>
                        <div class="role">Seller / Exporter</div>
                    </div>
                </div>
                <div class="documents-grid" id="seller-docs"></div>
            </div>
            
            <!-- Bank View -->
            <div id="bank" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #fef3c7;">üè¶</div>
                    <div class="actor-info">
                        <h2>MUFG Bank Tokyo / Nordea Finland</h2>
                        <div class="role">Issuing & Advising Banks</div>
                    </div>
                </div>
                <div class="documents-grid" id="bank-docs"></div>
            </div>
            
            <!-- Carrier View -->
            <div id="carrier" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #e0e7ff;">üö¢</div>
                    <div class="actor-info">
                        <h2>Far Eastern Shipping Company (FESCO)</h2>
                        <div class="role">Ocean Carrier</div>
                    </div>
                </div>
                <div class="documents-grid" id="carrier-docs"></div>
            </div>
            
            <!-- Customs View -->
            <div id="customs" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #fce7f3;">üõÉ</div>
                    <div class="actor-info">
                        <h2>Finnish & Japanese Customs</h2>
                        <div class="role">Customs Authorities</div>
                    </div>
                </div>
                <div class="documents-grid" id="customs-docs"></div>
            </div>
            
            <!-- Chamber of Commerce View -->
            <div id="chamber" class="actor-view">
                <div class="actor-header">
                    <div class="actor-icon" style="background: #fef3c7;">üìú</div>
                    <div class="actor-info">
                        <h2>Finnish Chamber of Commerce</h2>
                        <div class="role">Certificate Authority</div>
                    </div>
                </div>
                <div class="documents-grid" id="chamber-docs"></div>
            </div>
        </div>
    </div>
    
    <!-- Document Modal -->
    <div id="documentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Document</h2>
                <button class="close-button" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div id="modalContent" class="json-viewer"></div>
            </div>
        </div>
    </div>
    
    <script src="demo-enhanced.js"></script>
</body>
</html>
